!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular"),require("tslib"),require("reflect-metadata")):"function"==typeof define&&define.amd?define(["exports","angular","tslib","reflect-metadata"],t):t((e=e||self)["angular-ts-decorators"]={},e.angular,e.tslib_1)}(this,function(e,t,n){"use strict";var r,o=function(){function e(){}return e.bootstrapModule=function(e,n){var r;switch(void 0===n&&(n={strictDi:!1}),typeof e){case"string":r=e;break;case"object":r=e.name;break;case"function":default:var o=e.module;if(!o)throw Error("Argument moduleType should be NgModule class, angular.module object or module name string");r=o.name}var i=!0===n.strictDi;t.element(document).ready(function(){t.bootstrap(document.body,[r],{strictDi:i})})},e}(),i=function(e){return e.nativeElement=e[0],e};(r=e.Declaration||(e.Declaration={})).Component="Component",r.Directive="Directive",r.Pipe="Pipe";var a={declaration:"custom:declaration",name:"custom:name",bindings:"custom:bindings",require:"custom:require",options:"custom:options",listeners:"custom:listeners",viewChildren:"custom:viewChildren"};function c(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}function u(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.substr(1,e.length-2)}function l(e){return/^[\[].*[\]]$/g.test(e)}function f(e,t){return Reflect.getMetadata(e,t)}function d(e,t,n){Reflect.defineMetadata(e,t,n)}function p(e){return f(a.name,e)}function v(e){return f(a.declaration,e)}var m={ngOnInit:"$onInit",ngOnDestroy:"$onDestroy",ngDoCheck:"$doCheck",ngOnChanges:"$onChanges",ngAfterViewInit:"$postLink"};function y(r,o,a){void 0===o&&(o={}),void 0===a&&(a={});var s=Object.keys(o),l=Object.keys(a),f=function(r){function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=r.apply(this,t)||this;return o.$element=e,o}return n.__extends(f,r),f.prototype._updateViewChildren=function(){var n=this;l.forEach(function(r){var o,s=a[r];if("string"!=typeof s.selector){var l=v(s.selector);if(l!==e.Declaration.Component&&l!==e.Declaration.Directive)return;o=u(p(s.selector))}else o="#"+s.selector;var f=Array.prototype.slice.call(n.$element[0].querySelectorAll(o)).map(function(e){var n="string"==typeof s.selector?e.localName:o,r=t.element(e),a=r&&r.controller(c(n));return s.read?new i(r):a||new i(r)}).filter(function(e){return!!e});f.length?n[r]=s.first?f[0]:f:n[r]=void 0})},f.prototype.$postLink=function(){var e=this;r.prototype.$postLink&&r.prototype.$postLink.call(this),s.forEach(function(t){var n=o[t].eventName;e.$element.on(n+".HostListener",e[t].bind(e))}),this._updateViewChildren()},f.prototype.$onChanges=function(e){r.prototype.$onChanges&&r.prototype.$onChanges.call(this,e),this._updateViewChildren()},f.prototype.$onDestroy=function(){r.prototype.$onDestroy&&r.prototype.$onDestroy.call(this),s.length&&this.$element.off(".HostListener")},f}(r);return f.$inject=["$element"].concat(r.$inject||[]),f}function g(e){var n=e.prototype;(function(e){return Object.keys(m).filter(function(n){return t.isFunction(e[n])})})(n).forEach(function(e){var t=m[e];n[t]=n[e]})}function h(e,t,n,r){var o=e.constructor,i=f(a.bindings,o)||{};i[t]=r||n,d(a.bindings,i,o)}function b(e,t,n,r,o){var i=e.constructor,c=f(a.viewChildren,i)||{};c[t]={first:o,selector:n,read:r},d(a.viewChildren,c,i)}var C=Function;e.Component=function(t){var r=t.selector,o=n.__rest(t,["selector"]);return function(t){o.controller=t;var n=l(r),i=f(a.bindings,t);i&&(n?(o.bindToController=i,o.controllerAs=o.controllerAs||"$ctrl"):o.bindings=i);var u=f(a.require,t);u&&(o.require=u),n&&(o.restrict="A"),g(t);var p=n?s(r):r;d(a.name,c(p),t),d(a.declaration,n?e.Declaration.Directive:e.Declaration.Component,t),d(a.options,o,t)}},e.Directive=function(t){var r=t.selector,o=n.__rest(t,["selector"]);return function(t){var n=f(a.bindings,t);n&&(o.bindToController=n);var i=f(a.require,t);i&&(o.require=i,o.bindToController||(o.bindToController=!0)),o.restrict=o.restrict||"A";var u=l(r)?s(r):r;d(a.name,c(u),t),d(a.declaration,e.Declaration.Directive,t),d(a.options,o,t)}},e.ElementRef=i,e.HostListener=function(e,t){return function(n,r,o){var i=o.value;if("function"!=typeof i)throw new Error("@HostListener decorator can only be applied to methods not: "+typeof i);var c=n.constructor,u=f(a.listeners,c)||{};u[r]={eventName:e,args:t},d(a.listeners,u,c)}},e.Inject=function(e){return function(t,n,r){n&&Array.isArray(t[n])?t[n][r]=e:t.$inject&&(t.$inject[r]=e)}},e.Injectable=function(e){return function(t){e&&d(a.name,e,t)}},e.Input=function(e){return function(t,n){return h(t,n,"<?",e)}},e.NgModule=function(n){var r=n.id,o=(n.bootstrap,n.declarations),i=void 0===o?[]:o,c=n.imports,u=void 0===c?[]:c,s=n.providers,l=void 0===s?[]:s;return function(n){var o=u.map(function(e){return"string"==typeof e?e:e.module.name});r||(r=n.name);var c=t.module(r,o);i.forEach(function(t){switch(f(a.declaration,t)){case e.Declaration.Component:!function(e,t){var n=f(a.name,t),r=f(a.options,t),o=f(a.listeners,r.controller),i=f(a.viewChildren,t);(o||i)&&(r.controller=y(r.controller,o,i)),e.component(n,r)}(c,t);break;case e.Declaration.Directive:!function(e,t){var n,r=f(a.name,t),o=f(a.options,t);g(t);var i=f(a.listeners,t),c=f(a.viewChildren,t);o.controller=i||c?y(t,i,c):t,n=function(){return o},e.directive(r,n)}(c,t);break;case e.Declaration.Pipe:!function(e,t){var n=f(a.name,t),r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0].instantiate(t);return r.transform.bind(r)};r.$inject=["$injector"].concat(t.$inject||[]),e.filter(n,r)}(c,t)}}),l&&function(e,t){l.forEach(function(t){if(t.provide){var n=t.provide;t.useClass&&t.useClass instanceof Function?e.service(n,t.useClass):t.useFactory&&t.useFactory instanceof Function?(t.useFactory.$inject=t.deps||t.useFactory.$inject,e.factory(n,t.useFactory)):t.useValue?e.constant(n,t.useValue):t.useExisting&&e.provider(n,t.useExisting)}else{var r=f(a.name,t);r&&e.service(r,t)}})}(c);var s=n.config,d=n.run;s&&c.config(s),d&&c.run(d),n.module=c}},e.Output=function(e){return function(t,n){return h(t,n,"&",e)}},e.Pipe=function(t){return function(n){d(a.name,t.name,n),d(a.declaration,e.Declaration.Pipe,n)}},e.Type=C,e.ViewChild=function(e,t){return void 0===t&&(t={}),function(n,r){return b(n,r,e,t.read,!0)}},e.ViewChildren=function(e,t){return void 0===t&&(t={}),function(n,r){return b(n,r,e,t.read,!1)}},e.ViewParent=function(e){return function(t,n){return function(e,t,n){var r=e.constructor,o=f(a.require,r)||{};o[t]=n,d(a.require,o,r)}(t,n,e)}},e.camelToKebab=u,e.defineMetadata=d,e.getAttributeName=s,e.getMetadata=f,e.getTypeDeclaration=v,e.getTypeName=p,e.isAttributeSelector=l,e.isType=function(e){return"function"==typeof e},e.kebabToCamel=c,e.metadataKeys=a,e.ngLifecycleHooksMap=m,e.platformBrowserDynamic=function(){return o},Object.defineProperty(e,"__esModule",{value:!0})});